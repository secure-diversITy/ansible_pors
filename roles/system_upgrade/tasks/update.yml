---
- name: System upgrade (dnf)
  ansible.builtin.dnf: 
    update_cache: yes
    state: latest
    name: '*'
  when: ansible_facts['os_family'] == "RedHat"

- name: System upgrade (zypper)
  zypper: 
    update_cache: yes
    state: latest
    name: '*'
  when: ansible_facts['os_family'] == "Suse"
